# My-Test
Реализована легковесная header-only библиотека для написания юнит-тестов в стиле doctest, предназначенная для интеграции в пользовательский код без дополнительной зависимости. 

Особенности:
* Вся логика работы с SUBCASE повторяет поведение doctest: глубоко вложенные варианты запускаются отдельно.
* Поддержка корректного вывода ошибок, имён файлов и строк, включая пользовательские сообщения.
* Проверки не прерывают выполнение — все тесты и подслучаи выполняются независимо.
* Возврат кода 0 при успешном прохождении всех тестов, 1 — при провале хотя бы одного.

Поддерживаемые конструкции:
* `TEST_CASE("name")` — определение тестов, исполняемых в лексикографическом порядке по имени.
* `CHECK(expr) / CHECK_MESSAGE(expr, msg)` — однократная проверка условия с выводом в std::cerr при провале.
* `SUBCASE("name")` — вложенные ветвления внутри TEST_CASE, автоматически комбинируются и запускаются.
* `TEST_CASE_REGISTER(func, "name")` — альтернатива TEST_CASE в отдельных режимах: регистрирует внешнюю функцию как тест.

Для корректной работы требуется main функция, которая может быть:
* Реализована как-либо в файлах, к которым подключается библиотека
* Реализована самой библиотекой, для чего требуется прописать вместо обычного `#include <mytest.hpp>` макрос вида:
    ```c++
    #define MYTEST_MAIN_
    #include <mytest.hpp>
    ```

Корректные варианты применения можно посмотреть в папке data-test

## Инструкция по запуску
Проект представляет из себя header-only библиотеку `mytest.hpp`, которую не надо отдельно компилировать.

**Тестирование**\
Из папки test запустить тесты:
```bash
./run-test-data.sh
```

К проекту опубликована лишь часть тестов.\
Добавить свои тесты можно в папку data-test. Править скрипт или команды не требуется
